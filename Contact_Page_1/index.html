<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liên hệ với NiT Club</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <style>
        body {
            background-image: url('ndc321.png'); /* Thay đổi đường dẫn với ảnh nền của bạn */
            background-size: cover;
            background-position: center;
            color: #fff;
        }

        

        .navbar {
            background-color: #0080ff;
        }

        .navbar-brand {
            color: #fff;
        }

        .navbar-brand img {
            height: 45px; /* Điều chỉnh kích thước logo */
            margin-right: 10px;
            
        }

        .navbar-nav .nav-link {
            color: white;
            
        }

        .slogan {
            margin-top: 50px;
        }

        .slogan p {
            margin-bottom: 20px;
        }

        .slogan .opening {
            font-size: 18px;
            font-weight: light;
            color: rgb(255, 255, 0);
        }

        .slogan .title {
            color: rgb(0, 210, 0);
            font-size: 36px;
            font-weight: bold;
        }

        .slogan .content {
            color: white;
            font-size: 16px;
        }

        .contact-form {
            background-color: rgba(0, 0, 0, 0.7);
            padding: 40px;
            border-radius: 10px;
            margin-top: 50px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            font-weight: bold;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border-radius: 5px;
            border: none;
            background-color: rgba(255, 255, 255, 0.1);
            color: #fff;
        }

        .form-group textarea {
            height: 150px;
        }

        .form-group button {
            padding: 10px 20px;
            border: none;
            background-color: #007bff;
            color: #fff;
            cursor: pointer;
        }

        .form-group button:hover {
            background-color: #0056b3;
        }
    </style>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img class="logo" src="Logo.png" alt="Logo"> <!-- Thay đổi đường dẫn với logo của bạn -->
                NiT - NĐC IT Club
            </a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="#">Trang chủ</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Giới thiệu</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Blog</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="contact-form">
                    <h2 class="text-center mb-4">Liên hệ</h2>
                    <form action="https://docs.google.com/forms/u/1/d/e/1FAIpQLSfHrxjcimUOWhMP-ZJn3xmpvCCkyVejBTa-47mdeRDVr3uhPQ/formResponse" id="contactForm" target="_iframe" method="POST" onsubmit="return validateForm()">
                        <div class="form-group">
                            <label for="name">Tên của bạn</label>
                            <input type="text" class="form-control" id="name" name="entry.1159635653" required>
                        </div>
                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" class="form-control" id="email" name="entry.2003733692" required>
                        </div>
                        <div class="form-group">
                            <label for="message">Nội dung</label>
                            <textarea class="form-control" id="message" name="entry.1510604905" required></textarea>
                        </div>
                        <div class="g-recaptcha" data-sitekey="6LfECmIpAAAAACq-YgUvlGGM2-gfOIHNum7MRSu7" data-callback="enableSubmit" id="recaptcha"></div>
                        <br>
                        <div class="form-group text-center">
                            <button type="submit" class="btn btn-primary" id="submitButton" disabled>Gửi</button>
                        </div>
                    </form>
                </div>
            </div>
            <div class="col-md-6">
                <div class="slogan">
                    <p class="opening">Liên hệ - Hợp tác - Phát triển</p>
                    <p class="title">Câu lạc bộ Nit luôn ở đây để hỗ trợ bạn!</p>
                    <p class="content">Vui lòng điền đầy đủ thông tin theo form bên trái và nhấn nút "gửi". Mọi thông tin của bạn đều được bảo mật.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        var formSubmitted = false; // Biến để theo dõi xem form đã được gửi hay chưa

        // Hàm kiểm tra điều kiện để kích hoạt hoặc vô hiệu hóa nút gửi
        function checkConditions() {
            var name = document.getElementById("name").value;
            var email = document.getElementById("email").value;
            var message = document.getElementById("message").value;
            var recaptcha = document.getElementById("recaptcha");
            var submitButton = document.getElementById("submitButton");

            // Kiểm tra điều kiện để kích hoạt hoặc vô hiệu hóa nút gửi
            submitButton.disabled = !(name && email && message && recaptcha && recaptcha.childNodes.length > 0 && grecaptcha.getResponse().length > 0) || formSubmitted;
        }

        // Gọi hàm checkConditions() khi bất kỳ trường nào thay đổi
        document.getElementById("name").addEventListener("input", checkConditions);
        document.getElementById("email").addEventListener("input", checkConditions);
        document.getElementById("message").addEventListener("input", checkConditions);
        document.getElementById("recaptcha").addEventListener("change", checkConditions);

        // Hàm callback được gọi khi người dùng hoàn thành reCAPTCHA
        function enableSubmit() {
            checkConditions(); // Kiểm tra điều kiện sau khi hoàn thành reCAPTCHA
        }

        // Hàm gửi form
function submitForm() {
    var submitButton = document.getElementById("submitButton");

    // Kiểm tra điều kiện trước khi gửi form
    if (!submitButton.disabled) {
        var form = document.getElementById("contactForm");
        formSubmitted = true; // Đánh dấu rằng form đã được gửi
        form.submit(); // Gửi form

        // Reset form sau khi gửi
        form.reset();

        submitButton.disabled = true; // Vô hiệu hóa nút gửi sau khi gửi form
        formSubmitted = false; // Đặt lại giá trị của biến formSubmitted để cho phép gửi lại form
    } else {
        alert("Vui lòng điền đầy đủ thông tin và hoàn thành reCAPTCHA trước khi gửi form."); // Thông báo cho người dùng nếu form không đủ điều kiện để gửi
    }
}
// Hàm gửi form
function submitForm() {

  // Lấy các element
  var form = document.getElementById("contactForm");
  var submitButton = document.getElementById("submitButton");

  // Kiểm tra điều kiện trước khi gửi
  if (!submitButton.disabled) {

    // Đánh dấu form đã được gửi
    formSubmitted = true;

    // Gửi form
    form.submit();

    // Đặt delay 1 giây
    setTimeout(function() {
    
      // Reset form  
      form.reset(); 
      
      // Vô hiệu hóa nút gửi
      submitButton.disabled = true; 

      // Cho phép gửi lại form  
      formSubmitted = false;
    
    }, 1000);

  } else {
    // Thông báo lỗi nếu không đủ điều kiện
  }

}

    </script>

<iframe name="_iframe" width="0" height="0" border="0" style="display: none;"></iframe>
</body>

</html>
